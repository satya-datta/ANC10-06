<?php include 'header.php'; ?>

<!-- Header Section ends -->
    <!-- Header Section end -->

        <!-- Main Section start -->
       <main>
            
                <div class="container-fluid ">
        <!-- Breadcrumb start -->
        <div class="row m-1">
            <div class="col-12 ">
                <h4 class="main-title">VACCINE DETAILS</h4>
                <ul class="app-line-breadcrumbs mb-3">
                    <li class="">
                        <a href="register-vaccine.html" class="f-s-14 f-w-500">
                      <span>
                        <i class="ph-duotone  ph-stack f-s-16"></i>VACCINE
                      </span>
                        </a>
                    </li>
                     <li class="">
                        <a href="vaccine-management.html" class="f-s-14 f-w-500">
                            Vaccine Management
                        </a>
                    </li>
                    <li class="active">
                        <a href="#" class="f-s-14 f-w-500">Vaccine Details</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Breadcrumb start -->
    </div>

    <!-- Invoice start -->
    <div class="container invoice-container">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
  <div class="table-responsive">
   <div id="printableArea">

<div class="page">
  <table class="table">
    <tr>
      <td>
        <table class="table table-lg w-100 invoice-header">
          <tbody>
            <tr>
              <td>
                <div class="mb-3">
                  <img src="assets/images/logo/1.png" class="w-200" alt="">
                </div>
              </td>
              <td>
                <div class="text-end">
                  <div class="mb-1">
                    <h3 class="text-primary">ANTENATAL</h3>
                  </div>
                  <p>CHILD ID - <strong>123456789965</strong></p>
                  <p>Beneficiary Mother Name - <strong>Annapurna Devi</strong></p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>

    <tr>
      <td>
        <h4>Child Vaccination & Immunization Details</h4>
        <table style="width: 100%;">
          <tr>
            <td><strong>Child ID</strong></td><td>:</td><td>Enter 12-digit Child ID</td>
            <td><strong>Beneficiary Mother Name</strong></td><td>:</td><td>Enter the Beneficiary Mother Name</td>
          </tr>
          <tr>
            <td><strong>BCG Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>0 OPV Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>0 HEP B Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>PENTA-1 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>OPV-1 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>ROTA-1 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>IPV-1 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>PCV-1 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>PENTA-2 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>OPV-2 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>ROTA-2 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>PENTA-3 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>OPV-3 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>ROTA-3 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>IPV-2 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>PCV-2 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>MR-1 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>PCV Booster Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>
<div class="page">
  <table class="table">
    <tr>
      <td>
        <table style="width: 100%;">
          <tr>
            <td><strong>VIT-A 1st Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>IPV Booster Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>MR-2 Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>OPV Booster Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>DPT Booster Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>VIT-A 2nd Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>VIT-A 3rd Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>VIT-A 4th Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>VIT-A 5th Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>VIT-A 6th Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>VIT-A 7th Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>VIT-A 8th Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>TD - 5 YR Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>VIT-A 9th Dose Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
          <tr>
            <td><strong>TT - 10 YR Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
            <td><strong>TT - 16 YR Date</strong></td><td>:</td><td>dd-mm-yyyy</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>





</div>

  </div>
</div>

                </div>

<script>               
function printDiv(divId) {
  const content = document.getElementById(divId).innerHTML;
  const originalContent = document.body.innerHTML;

  // Wrap content into .page divs if you can split logically
  // Or simply wrap everything in one page div if single page
  const wrappedContent = `<div id="printableArea">${content}</div>`;

  const printStyles = `
    <style>
      @media print {
        body * {
          visibility: hidden;
        }
        #printableArea, #printableArea * {
          visibility: visible;
        }
        #printableArea {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
        }

        .page {
          page-break-after: always;
          border: 2px solid black;
          padding: 20px;
          margin: 0 auto 20px auto;
          box-sizing: border-box;
          height: 270mm; /* adjust as needed */
        }
        .page:last-child {
          page-break-after: auto;
        }
      }
    </style>
  `;

  document.body.innerHTML = printStyles + wrappedContent;

  // If you want to split content into pages manually, you can do so here before printing.

  window.print();
  document.body.innerHTML = originalContent;
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
  async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const element = document.getElementById("printableArea");

    const canvas = await html2canvas(element, {
      scale: 2,
      useCORS: true
    });

    const imgData = canvas.toDataURL("image/png");

    const pdf = new jsPDF('p', 'mm', 'a4');
    const pdfWidth = pdf.internal.pageSize.getWidth();
    const pdfHeight = pdf.internal.pageSize.getHeight();

    const imgWidth = pdfWidth - 20; // 10mm margin on left & right
    const imgHeight = (canvas.height * imgWidth) / canvas.width;

    let position = 10; // Top margin
    let heightLeft = imgHeight;

    // Draw border
    pdf.setLineWidth(0.5);
    pdf.rect(5, 5, pdfWidth - 10, pdfHeight - 10); // outer border (5mm margin)

    // Add first page image
    pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
    heightLeft -= (pdfHeight - 20);

    // Handle multi-page content
    while (heightLeft > 0) {
      pdf.addPage();
      pdf.rect(5, 5, pdfWidth - 10, pdfHeight - 10); // border on new page
      position = 10 - (imgHeight - heightLeft);
      pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
      heightLeft -= (pdfHeight - 20);
    }

    // Add date/time at the bottom of the last page
    const now = new Date();
    const dateTimeString = now.toLocaleString();
    pdf.setFontSize(10);
    pdf.text(`Downloaded on: ${dateTimeString}`, 10, pdfHeight - 10);

    // const filename = `${element.id}.pdf`;
      const filename = `exaple.pdf`  
    pdf.save(filename);
  }
</script>




                <div class="invoice-footer float-end mb-3">
                    <button type="button" class="btn btn-primary m-1" onclick="printDiv('printableArea')">
                        <i class="ti ti-printer"></i> Print</button>
                    <button type="button" class="btn btn-secondary m-1"><i class="ti ti-send"></i> Send </button>
                    <button type="button" class="btn btn-success m-1" onclick="downloadPDF()">
                        <i class="ti ti-download"></i> Download
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Invoice end -->
        </main>
        <!-- Main Section end -->
    </div>

    <!-- tap on top -->
    <div class="go-top">
      <span class="progress-value">
        <i class="ti ti-arrow-up"></i>
      </span>
    </div>

    <!-- Footer Section start -->
     <!-- Footer Section starts-->
<?php include 'footer.php'; ?>